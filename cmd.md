sqlx-cli工具：
only for Postgres:
    cargo install sqlx-cli --no-default-features --features native-tls,postgres
----------------------------------------------------------------------------------------

.env文件的意义：
# sqlx在编译时与Postgres进行交互，已检查查询是否合法，
# 但依赖DATABASE_URL环境变量确认数据库的位置。
# sqlx将从.env文件中读取DATABASE_URL,省去了每次都要重新导出环境变量的麻烦。
# .env文件 仅与 开发过程、构建和测试步骤相关。
-----------------------------------------------------------------------------------------

curl http://127.0.0.1:8000/health_check -v

curl -i -X POST -d 'email=thomas_mann#hostmail.con&name=Tom' http://127.0.0.1:8000/subscriptions

-----------------------------------------------------------------------------------------
docker build --tag zero2prod --file Dockerfile .

----------------------------------------------------------------------------------------------
sqlx 的"offline"离线模式：
    cargo sqlx preare -- --lib
    prepare执行的与调用cargo build是所做的工作类似,它将这些查询的结果保存在一个元数据文件(sqlx-data.json)中，由sqlx自行检测，可以完全跳过查询，从而执行离线构建。
    --lib, 由于所有的SQL查询都被放在以'lib.rs'为根的模块中，因此这里必须要用参数指明命令作用于lib部分。

------------------------------------------------------------------------------------------------

使用环境变量注入机密信息：例如数据库root用户的用户名和密码

-------------------------------------------------------------------------------------------------
serde-aux crate从环境变量中提取整数
--------------------------------------------------------------------------------------------------
生成环境中，与数据库通信提供加密通信，即SSL模式
-----------------------------------------------------------------------------------------------
利用Rust的类型系统完全消除输入数据的无效性
------------------------------------------------------------------------------------------------
实现AsRef<str>， 方可使用as_ref()
------------------------------------------------------------------------------------------------
? 运算符的语法糖：let Err(err) = 函数名(){ ... return Err(error)}; ? 只能在返回Result的函数中使用
------------------------------------------------------------------------------------------------
validator crate 验证email格式是否有效
------------------------------------------------------------------------------------------------
属性测试：fake crate提供基本数据类型和高级对象(IP地址、国家代码等)的生成逻辑，尤其是电子邮件，即生成随机测试数据
-----------------------------------------------------------------------------------------------
两个主流的属性测试工具：quickcheck和proptest；cargo test valid_emails -- --nocapture查看有效的电子邮件地址
-------------------------------------------------------------------------------------------------------
N实现TryFrom<T> 后，使用T.try_into()可返回N类型（将T类型转换为N类型）；两种类型之间是可能会失败的转换，会消耗输入的值,
---------------------------------------------------------------------------------------------------------
cargo check --all-targets
---------------------------------------------------------------------------------------------------------
如何测试REST客户端:用wiremock模拟服务器进行单元测试，使用fake()生成随机数据（明确不关注输入，他们的值不影响测试的结果）
------------------------------------------------------------------------------------------------------------
json方法会将Content-Type头设置为application/json
------------------------------------------------------------------------------------------------------------
添加授权令牌，Client使用header()设置授权请求头
--------------------------------------------------------------------------------------------------------------
7.2.5使用wiremock提供的匹配器matchers验证请求头(header)、请求端点(path)、请求方法(method)以及header_exists，而，
验证请求体则需要自己实现Match trait,且字段名称必须采用帕斯卡命名法#[serde(rename_all = "PascalCase")]
-------------------------------------------------------------------------------------------------------------------
7.2.5.1 字符串切片&str只是指向其他对象所拥有的内存缓存区的指针;在结构体中存储引用，需添加一个生命周期参数，
确保引用不会比指向的内存缓冲区存在更长的时间；
-------------------------------------------------------------------------------------------------------------------

